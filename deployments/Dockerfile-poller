FROM golang:1.18

WORKDIR /poller

COPY "../go.mod" "../go.sum" ./
RUN go mod download

COPY . ./

RUN go build -o bin/server cmd/poller/main.go
CMD [ "./bin/server" ]